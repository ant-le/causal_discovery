# @package data

# Full Syntren reproduction data config.
n_nodes: 20

train_family:
  name: bcnp_all_data_train

  graph_cfg:
    type: mixture
    weights: [0.25, 0.25, 0.25, 0.25]
    generators:
      - type: er
        sparsity: 0.0526
      - type: er
        sparsity: 0.1053
      - type: er
        sparsity: 0.1579
      - type: sf
        m: 2

  mech_cfg:
    type: mixture
    weights: [0.33, 0.33, 0.34]
    factories:
      - type: linear
        weight_scale: 10.0
        noise_concentration: 2.0
        noise_rate: 2.0
      - type: mlp
        hidden_dim: 32
      - type: gp
        rff_dim: 256
        length_scale_range: [0.5, 2.0]
        variance: 1.0

val_families:
  id_val:
    name: id_val
    graph_cfg:
      type: er
      sparsity: 0.1053
    mech_cfg:
      type: mlp
      hidden_dim: 32

test_families:
  ood_square:
    name: ood_square
    graph_cfg:
      type: er
      sparsity: 0.1
    mech_cfg:
      type: square
      weight_scale: 1.0
      noise_scale: 0.1

  ood_logistic_map:
    name: ood_logistic_map
    graph_cfg:
      type: er
      sparsity: 0.1
    mech_cfg:
      type: logistic_map
      weight_scale: 1.0

  ood_periodic:
    name: ood_periodic
    graph_cfg:
      type: er
      sparsity: 0.1
    mech_cfg:
      type: periodic
      weight_scale: 1.0

  ood_pnl_tanh:
    name: ood_pnl_tanh
    graph_cfg:
      type: er
      sparsity: 0.1
    mech_cfg:
      type: pnl
      nonlinearity_type: tanh
      inner_config:
        type: linear

  ood_sbm_strong:
    name: ood_sbm_strong
    graph_cfg:
      type: sbm
      n_blocks: 4
      p_intra: 0.6
      p_inter: 0.01
    mech_cfg:
      type: linear

samples_per_task: 1000
seeds_val: [1000, 1001, 1002, 1003, 1004]
seeds_test: [2000, 2001, 2002, 2003, 2004]
base_seed: 42
safety_checks: true
num_workers: 4
pin_memory: true
normalize_data: true
batch_size_train: 1
batch_size_val: 1
batch_size_test: 1
batch_size_test_interventional: 1

# @package _global_

defaults:
  - logger: wandb
  - data: smoke
  - model: bcnp
  - trainer: default
  - inference: default
  - _self_
  - override hydra/job_logging: console

name: "smoke_actual_multimodel"

# Smoke overrides: fast iteration with fewer steps.
trainer:
  max_steps: 30
  log_every_n_steps: 1
  val_check_interval: 10
  checkpoint_every_n_steps: 0

inference:
  n_samples: 8
  cache_compress: false
  cache_n_samples: null
  dibs:
    steps: 50
    n_particles: 8
  bayesdag:
    max_epochs: 1
    num_chains: 2
    sinkhorn_n_iter: 200
    external_timeout_s: 600

hydra:
  run:
    dir: ${oc.env:CAUSAL_META_RUN_DIR,experiments/runs/${name}}
  sweep:
    dir: ${oc.env:CAUSAL_META_SWEEP_DIR,experiments/runs/${name}}
    subdir: "${model.id}"
  output_subdir: null
  sweeper:
    params:
      model: avici,bcnp,dibs,bayesdag

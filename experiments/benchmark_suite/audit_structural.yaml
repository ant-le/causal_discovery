# @package _global_
name: "audit_structural"

defaults:
  - train_competence
  - _self_

data:
  test_families:
    # -----------------------------------------------------------------------
    # 1. SBM (Modular) - Strong Blocks
    # -----------------------------------------------------------------------
    ood_sbm_strong:
      name: ood_sbm_strong
      n_nodes: 20
      graph_cfg:
        type: sbm
        n_blocks: 4
        p_intra: 0.6
        p_inter: 0.01  # Very sparse connections between blocks
      mech_cfg:
        type: linear
    
    # -----------------------------------------------------------------------
    # 2. SBM (Modular) - Weak Blocks
    # -----------------------------------------------------------------------
    ood_sbm_weak:
      name: ood_sbm_weak
      n_nodes: 20
      graph_cfg:
        type: sbm
        n_blocks: 4
        p_intra: 0.3
        p_inter: 0.1
      mech_cfg:
        type: linear

    # -----------------------------------------------------------------------
    # 3. Reference (ER)
    # -----------------------------------------------------------------------
    ref_er:
      name: ref_er
      n_nodes: 20
      graph_cfg:
        type: er
        sparsity: 0.2
      mech_cfg:
        type: linear

hydra:
  run:
    dir: ${oc.env:CAUSAL_META_RUN_DIR,experiments/${name}/${now:%Y-%m-%d}/${now:%H-%M-%S}}
  sweep:
    dir: ${oc.env:CAUSAL_META_SWEEP_DIR,experiments/${name}/multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}}
    subdir: ${hydra.job.num}

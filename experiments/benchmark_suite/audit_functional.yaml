# @package _global_
name: "audit_functional"

# Inherits training setup from competence (usually) but defines specific test suite
defaults:
  - train_competence
  - _self_

data:
  test_families:
    # -----------------------------------------------------------------------
    # 1. Square (Symmetric/Non-Injective)
    # -----------------------------------------------------------------------
    ood_square:
      name: ood_square
      n_nodes: 20
      graph_cfg:
        type: er
        sparsity: 0.2
      mech_cfg:
        type: square
        weight_scale: 1.0
        noise_scale: 0.1
    
    # -----------------------------------------------------------------------
    # 2. Periodic (High Freq)
    # -----------------------------------------------------------------------
    ood_periodic:
      name: ood_periodic
      n_nodes: 20
      graph_cfg:
        type: er
        sparsity: 0.2
      mech_cfg:
        type: periodic
        weight_scale: 1.0
        noise_scale: 0.1

    # -----------------------------------------------------------------------
    # 3. Reference (Linear) - Baseline
    # -----------------------------------------------------------------------
    ref_linear:
      name: ref_linear
      n_nodes: 20
      graph_cfg:
        type: er
        sparsity: 0.2
      mech_cfg:
        type: linear

hydra:
  run:
    dir: ${oc.env:CAUSAL_META_RUN_DIR,experiments/${name}/${now:%Y-%m-%d}/${now:%H-%M-%S}}
  sweep:
    dir: ${oc.env:CAUSAL_META_SWEEP_DIR,experiments/${name}/multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}}
    subdir: ${hydra.job.num}
